<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice Test - ALFA SAT</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.css"/>
</head>
<body class="test-body">

    <!-- The backdrop for the modal -->
    <div class="modal-backdrop" id="modal-backdrop"></div>

    <div class="test-wrapper">
        <!-- TOP HEADER -->
        <header class="test-header">
            <div class="header-left">
                <img src="assets/logo.png" alt="Logo" class="logo-small">
                <div class="test-title">
                    <h4>Reading & Writing</h4>
                    <span>Module 1</span>
                </div>
            </div>
            <div class="header-center timer">
                <i class="fa-regular fa-clock"></i>
                <span>31:45</span>
            </div>
            <div class="header-right">
                <div class="test-tools">
                    <button class="tool-btn" title="Calculator"><i class="fa-solid fa-calculator"></i></button>
                    <button class="tool-btn" title="Highlighter"><i class="fa-solid fa-highlighter"></i></button>
                </div>
            </div>
        </header>

        <!-- MAIN SPLIT-SCREEN CONTENT -->
        <main class="test-main">
            <div class="main-content-body">
                <div class="stimulus-pane">
                    <div class="pane-content">
                        <!-- Passage content will be loaded here -->
                        <p>In the intricate dance of pollination, bees are unparalleled masters. Their fuzzy bodies are perfect for trapping pollen, and their tireless flights ensure the propagation of countless plant species. However, with bee populations facing threats from climate change and habitat loss, scientists are exploring technological stand-ins. Enter the "RoboBee," a tiny, insect-sized robot developed by researchers at Harvard University.</p>
                        <p>Initially, the challenge was immense. Creating a machine that could replicate the delicate, agile flight of a bee required breakthroughs in micro-robotics and artificial muscle technology. The first prototypes were tethered to a power source, unable to venture far. But years of refinement led to autonomous versions capable of controlled flight.</p>
                    </div>
                </div>

                <div class="question-pane">
                    <div class="pane-content">
                        <div class="question-header-bar">
                            <div class="q-number-display">1</div>
                            <label class="mark-for-review">
                                <input type="checkbox">
                                <i class="fa-regular fa-flag"></i>
                                <span>Mark for Review</span>
                            </label>
                        </div>

                        <p class="question-text">Which finding, if true, would most directly weaken the author's claim about the potential of RoboBees as a "safety net"?</p>
                        
                        <div class="question-options">
                    <!-- Options with Strikethrough Buttons -->
                    <div class="option-wrapper">
                        <label class="option"><input type="radio" name="question1" value="A"><span class="option-letter">A</span><span class="option-text">The materials used in RoboBee construction are biodegradable and ethically sourced.</span></label>
                        <button class="strikethrough-btn" title="Eliminate choice"><i class="fa-solid fa-ban"></i></button>
                    </div>
                    <div class="option-wrapper">
                        <label class="option"><input type="radio" name="question1" value="B"><span class="option-letter">B</span><span class="option-text">Field trials show that many plant species' reproductive structures are too delicate and are damaged by the RoboBee's brush.</span></label>
                        <button class="strikethrough-btn" title="Eliminate choice"><i class="fa-solid fa-ban"></i></button>
                    </div>
                    <div class="option-wrapper">
                        <label class="option"><input type="radio" name="question1" value="C"><span class="option-letter">C</span><span class="option-text">The flight algorithm of the RoboBee can be updated remotely to improve its navigation through complex environments.</span></label>
                        <button class="strikethrough-btn" title="Eliminate choice"><i class="fa-solid fa-ban"></i></button>
                    </div>
                    <div class="option-wrapper">
                        <label class="option"><input type="radio" name="question1" value="D"><span class="option-letter">D</span><span class="option-text">A single natural bee colony can pollinate an area equivalent to what 500 current-generation RoboBees can cover.</span></label>
                        <button class="strikethrough-btn" title="Eliminate choice"><i class="fa-solid fa-ban"></i></button>
                    </div>
                </div
                    </div>
                </div>
            </div>
        </main>

        <!-- FOOTER -->
        <footer class="test-footer">
            <div class="footer-user-name">
                Boboxon Yusupov
            </div>
            <div class="footer-center">
                <button class="question-nav-btn" id="question-nav-btn">
                    <span>Question 1 of 27</span>
                    <i class="fa-solid fa-chevron-up"></i>
                </button>
            </div>
            <div class="footer-right">
                <button class="btn btn-secondary">Back</button>
                <button class="btn btn-primary">Next</button>
            </div>
        </footer>
    </div>

    <!-- QUESTION NAVIGATOR MODAL -->
    <div class="question-navigator-modal" id="question-navigator-modal">
        <div class="modal-header">
            <h4>Section 1, Module 1: Reading and Writing Questions</h4>
            <button class="close-modal-btn" id="close-modal-btn"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div class="modal-filters">
            <span><i class="fa-solid fa-circle-dot current-q"></i> Current</span>
            <span><i class="fa-regular fa-square"></i> Unanswered</span>
            <span><i class="fa-solid fa-flag for-review"></i> For Review</span>
        </div>
        <div class="modal-grid" id="modal-question-grid">
            <!-- Grid numbers will be loaded here -->
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary">Go to Review Page</button>
        </div>
    </div>

<!-- =================================================================== -->
    <!-- === NINJA UPDATE: Replace the entire scripts section at the bottom of test.html with this === -->
    <!-- =================================================================== -->

    <!-- JQuery (Required by MathQuill) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- MathQuill Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.js"></script>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js"></script>

    <!-- Our Firebase initialization script -->
    <script src="js/firebase-init.js"></script>

    <!-- Our main script for sitewide logic -->
    <script src="js/main.js"></script>
    
    <!-- THE NEW TEST ENGINE SCRIPT -->
    <script src="js/test-engine.js"></script>

    <!-- Page-specific script for modal visibility -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleBtn = document.getElementById('question-nav-btn');
            const modal = document.getElementById('question-navigator-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const backdrop = document.getElementById('modal-backdrop');

            function toggleModal(show) {
                modal.classList.toggle('visible', show);
                backdrop.classList.toggle('visible', show);
            }

            if (toggleBtn) toggleBtn.addEventListener('click', () => toggleModal(true));
            if (closeModalBtn) closeModalBtn.addEventListener('click', () => toggleModal(false));
            if (backdrop) backdrop.addEventListener('click', () => toggleModal(false));
        });
    </script>
</body>
</html>
</body>
</html>